## 本章节学习：学习vite支持的css modules；


* 案例一：本章节的案例一目录中
  * index.html 引入main.js ，main.js导入了案例一中的A和B的js
  * A和B对footer 有相同样式的操作；就会冲突，最后只有一个生效


* 案例二：而我们vite针对这种情况，css modules来解决：
  * 案例二的目录中，css以.module.css结尾； 会把导入的css进行处理封装成一个对象；key是css的原来类名，value对应的是vite处理出的类名；
  * 例如 我们在css写了一个 .footer{color:red;} ,处理后 {footer: _footer_<hash值>}


* 还有一个less
  * less这种语法的css ，例如能写嵌套式的css，这种不是浏览器时看不懂的；
  * 也是要通过集成第三方库less，将我们的less语法转换为原声的css；

*了解css模块化的相关配置：
    * 通过css属性控制整个vite对css的处理行为

* 对css属性中第一个modules：
  * modules：指定css的模块化配置
    * modules内第一个配置 localsConvention: 模块化封装的class名的是驼峰还是中划线形式；
    * scopeBehaviour :当前是否开启模块化（发现hash值就代表开启了模块化；）
      * 默认是 local ：开启的
      * global 不开启模块化

```css
/*对 localsConvention 讲解*/
/*这是 我们css中写的*/
.footer-main{
    
}
/*1.这是经过vite处理后封装的对象*/
/*1.1 这是默认的*/
{
 footer-main: _footer-main_<hash值> 
}
/*1.1 这是localsConvention = camelCase*/
{
    footer-main: _footer-main_<hash值>;
    footerMain: _footer-main_<hash值>; //多了一个驼峰的命名
}
/*1.1 这是localsConvention = camelCaseOnly*/
{
    footerMain: _footer-main_<hash值>; //仅存在一个驼峰的命名
}


```


* 对css属性中 第二个preprocessorOptions：
  * preprocessorOptions 主要是用来处理css预处理的配置

假设我们没有使用构建工具vite ，我们想要编译less文件的话， 需要yarn add less， 安装后六可使用lessc编译less文件；
我们在使用lessc编译器编译less的文件的时候 可以传递很多参数，这些参数 可以访问https://lesscss.org 查看，这些参数就是对应css预处理器中less的配置；


* 对css属性中 第三个devSourcemap
    * devSourcemap 想了解这个 我们可以先了解一下 sourcemap
    * sourcemap就是  例如：我们的js文件打包后会被压缩处理，如果报错的话，默认是不知道源文件的第几行报错的； sourcemap就是一个索引文件，压缩后的代码运行时报错，会根据这个索引指明我们源文件的哪段代码报错的
    * devSourcemap 时 css中，就是给我们的css代码添加这个索引文件，能让我们在浏览器或者报错方便的调试找到源代码文件




* 了解一个额外的知识postcss，vite天生对postcss有良好的支持
  *  类似净水系统，输入污水，输出纯净水，在这个过程中加了许多模块，每个模块有各自的功能，例如：去除沙砾，去除细菌，去除微生物
  * postcss是什么？ 就是保证我们的css执行起来万无一失；
  * 我们在写css代码时候 ，有的css语法在低版本的浏览器版本可能是不兼容的；postcss就是做这个事情，
  * 我们写代码时候随便写，
    * postcss将语法编译(嵌套语法，函数变量)变为原生的css[这个less和sass也能做到]，
    * 再进行语法降级[为了适应低版本浏览器]， 
    * 为了保险还会进行前缀补全；
  * postcss就是涵盖了less/sass的功能，比less/sass功能更加强大；
  * 在js中 babel也是一样的道理，让处理js源代码，让js代码在任意版本浏览器都能正常运行； 
* postcss的基础使用
  * 安装  yarn add postcss-cli postcss -D    //-D是为了只在开发时使用
  * 书写描述文件postcss.config.js： 告诉postcss 要帮我们做哪些事情,我们需要根据不同功能下载不同的插件，然后在描述文件中配置使用这些插件即可；（可以去他的官网看github上）

* vite中使用postcss 就是在 css属性中 第四个postcss中进行配置